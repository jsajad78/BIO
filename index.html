<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <!-- PWA Settings -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#020617">
    <link rel="manifest" href="data:application/manifest+json;base64,ewogICJuYW1lIjogIuLP2KzYp9ivINis2LnZgdix24wiLAogICJzaG9ydF9uYW1lIjogIuLP2KzYp9ivIiwKICAic3RhcnRfdXJsIjogIi4iLAogICJkaXNwbGF5IjogInN0YW5kYWxvbmUiLAogICJiYWNrZ3JvdW5kX2NvbG9yIjogIiMwMjA2MTciLAogICJ0aGVtZV9jb2xvciI6ICIjMGVhNWU5IiwKICAiaWNvbnMiOiBbXQp9">

    <title>Ø³Ø¬Ø§Ø¯ Ø¬Ø¹ÙØ±ÛŒ | Ø¨Ù†ÛŒØ§Ù†â€ŒÚ¯Ø°Ø§Ø± LUFAI</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/Vazirmatn-font-face.css" rel="stylesheet" type="text/css" />
    
    <style>
        @font-face { font-family: 'IRANSansX'; src: local('IRANSansX'), url('https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/Vazirmatn-font-face.css'); }
        
        :root {
            --bg-dark: #020617;
            --primary: #0ea5e9;
            --primary-glow: rgba(14, 165, 233, 0.4);
            --secondary: #6366f1;
            --accent: #d946ef;
            --gold: #fbbf24;
            --text: #f8fafc;
            --text-muted: #94a3b8;
            --glass: rgba(15, 23, 42, 0.8);
            --border: rgba(255, 255, 255, 0.1);
            --nav-h: 70px;
            --safe-area-bottom: env(safe-area-inset-bottom, 20px);
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { margin: 0; background: var(--bg-dark); color: var(--text); font-family: 'IRANSansX', 'Vazirmatn', sans-serif; overflow-x: hidden; padding-bottom: 120px; }
        body.en-mode { direction: ltr; font-family: system-ui, -apple-system, sans-serif; }

        #canvas-bg { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -2; }

        /* Header & Lang Switch */
        .lang-switch { position: fixed; top: 20px; left: 20px; z-index: 100; background: var(--glass); padding: 5px; border-radius: 30px; border: 1px solid var(--border); display: flex; gap: 5px; }
        body.en-mode .lang-switch { left: auto; right: 20px; }
        .lang-btn { background: none; border: none; color: var(--text-muted); padding: 6px 12px; border-radius: 20px; cursor: pointer; transition: 0.3s; font-weight: bold; }
        .lang-btn.active { background: var(--primary); color: #fff; }

        /* Navigation Dock */
        .nav-tabs { 
            position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); width: 92%; max-width: 450px;
            bottom: calc(10px + var(--safe-area-bottom));
            background: rgba(15, 23, 42, 0.95); backdrop-filter: blur(20px); border: 1px solid var(--border);
            border-radius: 24px; display: flex; padding: 5px; z-index: 999; box-shadow: 0 10px 40px rgba(0,0,0,0.6);
        }
        .nav-item { flex: 1; background: none; border: none; color: var(--text-muted); padding: 10px; border-radius: 20px; cursor: pointer; display: flex; flex-direction: column; align-items: center; gap: 4px; font-size: 0.75rem; transition: 0.3s; }
        .nav-item i { font-size: 1.2rem; }
        .nav-item.active { color: #fff; background: rgba(255,255,255,0.1); }

        .container { width: 100%; max-width: 1100px; margin: 0 auto; padding: 20px; padding-top: 80px; }
        .page-section { display: none; animation: fadeIn 0.5s ease; }
        .page-section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; } }

        .glass-card { background: var(--glass); border: 1px solid var(--border); border-radius: 24px; padding: 30px; margin-bottom: 30px; }

        /* Home */
        .header-content { text-align: center; margin-bottom: 40px; }
        .profile-img { width: 180px; height: 180px; border-radius: 50%; border: 3px solid var(--primary); box-shadow: 0 0 50px var(--primary-glow); margin: 0 auto 20px; display: block; object-fit: cover; }
        h1 { font-size: 2.5rem; margin: 10px 0; background: linear-gradient(to bottom, #fff, #94a3b8); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .tagline { color: var(--text-muted); font-size: 1.1rem; }
        .cta-group { display: flex; gap: 10px; justify-content: center; margin-top: 20px; flex-wrap: wrap; }
        .cta-btn { background: rgba(255,255,255,0.05); border: 1px solid var(--border); color: #fff; padding: 12px 24px; border-radius: 12px; text-decoration: none; display: flex; align-items: center; gap: 8px; transition: 0.3s; }
        .cta-btn:hover { background: var(--primary); border-color: var(--primary); }

        /* Timeline & Skills */
        .timeline-item { border-right: 2px solid var(--border); padding-right: 20px; margin-bottom: 30px; position: relative; }
        body.en-mode .timeline-item { border-right: none; border-left: 2px solid var(--border); padding-right: 0; padding-left: 20px; }
        .timeline-dot { width: 12px; height: 12px; background: var(--primary); border-radius: 50%; position: absolute; top: 5px; right: -7px; }
        body.en-mode .timeline-dot { right: auto; left: -7px; }
        
        .skill-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 15px; }
        .skill-box { background: rgba(255,255,255,0.03); padding: 20px; border-radius: 16px; border: 1px solid var(--border); transition: 0.3s; }
        .skill-box:hover { border-color: var(--primary); transform: translateY(-5px); }
        .tag-container { display: flex; flex-wrap: wrap; gap: 5px; margin-top: 10px; }
        .tag { display: inline-block; background: rgba(255,255,255,0.05); padding: 5px 12px; border-radius: 8px; font-size: 0.85rem; color: #cbd5e1; border: 1px solid transparent; }
        .tag:hover { border-color: var(--secondary); color: #fff; }

        /* LUFAI Page */
        .lufai-hero { text-align: center; margin-bottom: 40px; }
        .lufai-title { font-size: 3rem; font-weight: 900; letter-spacing: 5px; background: linear-gradient(to right, #6366f1, #d946ef); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        
        .feature-card { display: flex; align-items: flex-start; gap: 20px; background: rgba(30,41,59,0.5); padding: 25px; border-radius: 20px; margin-bottom: 20px; border: 1px solid var(--border); }
        .feature-card div:last-child { flex: 1; }
        .feature-card.reverse { flex-direction: row-reverse; }
        body.en-mode .feature-card.reverse { flex-direction: row; }
        .f-icon { font-size: 2.5rem; color: var(--primary); min-width: 50px; text-align: center; margin-top: 5px; }
        
        /* Survey & Stats */
        .stats-bar { display: flex; justify-content: space-between; margin-bottom: 20px; background: rgba(0,0,0,0.3); padding: 10px 20px; border-radius: 15px; font-size: 0.9rem; color: var(--text-muted); }
        .vote-btn { 
            flex: 1; background: rgba(255,255,255,0.05); border: 1px solid var(--border); color: #fff; 
            padding: 15px; border-radius: 15px; cursor: pointer; transition: 0.3s; margin: 0 5px;
            display: flex; flex-direction: column; align-items: center; gap: 8px;
        }
        .vote-btn:hover { background: rgba(14, 165, 233, 0.1); border-color: var(--primary); }
        .vote-btn.disabled { opacity: 0.6; cursor: default; pointer-events: none; filter: grayscale(1); }
        .vote-count { font-size: 0.95rem; color: var(--gold); font-weight: bold; background: rgba(0,0,0,0.3); padding: 2px 8px; border-radius: 10px; }

        /* Chat UI */
        .chat-container { height: 75vh; display: flex; flex-direction: column; border-radius: 24px; overflow: hidden; background: rgba(15, 23, 42, 0.85); border: 1px solid var(--border); }
        .chat-header { padding: 15px; background: rgba(0,0,0,0.2); display: flex; align-items: center; gap: 10px; border-bottom: 1px solid var(--border); }
        .chat-avatar { width: 45px; height: 45px; border-radius: 50%; border: 2px solid var(--primary); object-fit: cover; }
        .chat-box { flex: 1; overflow-y: auto; padding: 20px; display: flex; flex-direction: column; gap: 15px; }
        .msg { max-width: 85%; padding: 12px 16px; border-radius: 18px; font-size: 0.95rem; line-height: 1.6; word-wrap: break-word; }
        .msg.bot { align-self: flex-start; background: rgba(255,255,255,0.08); border-top-right-radius: 4px; color: #e2e8f0; }
        .msg.user { align-self: flex-end; background: var(--primary); color: #fff; border-top-left-radius: 4px; }
        body.en-mode .msg.bot { border-top-right-radius: 18px; border-top-left-radius: 4px; }
        body.en-mode .msg.user { border-top-left-radius: 18px; border-top-right-radius: 4px; }

        .chat-input-area { padding: 15px; background: rgba(0,0,0,0.2); border-top: 1px solid var(--border); }
        .suggestion-chips { display: flex; gap: 8px; overflow-x: auto; padding-bottom: 10px; scrollbar-width: none; }
        .chip { white-space: nowrap; background: rgba(255,255,255,0.05); padding: 8px 14px; border-radius: 20px; font-size: 0.8rem; border: 1px solid var(--border); cursor: pointer; transition: 0.3s; }
        .chip:hover { background: var(--primary); border-color: var(--primary); color: #fff; }
        
        .input-row { display: flex; gap: 10px; margin-top: 5px; }
        .chat-input { flex: 1; background: rgba(255,255,255,0.05); border: 1px solid var(--border); color: #fff; padding: 12px 20px; border-radius: 25px; outline: none; font-size: 16px; }
        .send-btn { width: 45px; height: 45px; border-radius: 50%; background: var(--primary); border: none; color: #fff; display: flex; align-items: center; justify-content: center; font-size: 1.1rem; }

        .hidden { display: none !important; }
        
        /* Language Specific Display */
        body:not(.en-mode) .lang-en-only { display: none !important; }
        body.en-mode .lang-fa-only { display: none !important; }

        @media (min-width: 768px) {
            .header-content { display: flex; text-align: right; align-items: center; justify-content: center; gap: 50px; }
            body.en-mode .header-content { text-align: left; flex-direction: row-reverse; }
            .profile-img { margin: 0; width: 250px; height: 250px; }
            .feature-card { padding: 40px; }
        }
    </style>
</head>
<body>

    <canvas id="canvas-bg"></canvas>

    <div class="lang-switch">
        <button class="lang-btn active" id="btn-fa" onclick="setLang('fa')">FA</button>
        <button class="lang-btn" id="btn-en" onclick="setLang('en')">EN</button>
    </div>

    <div class="nav-tabs">
        <button class="nav-item active" onclick="showPage('home')">
            <i class="fas fa-home"></i> <span>Ø®Ø§Ù†Ù‡ / Home</span>
        </button>
        <button class="nav-item" onclick="showPage('lufai')">
            <i class="fas fa-brain"></i> <span>LUFAI</span>
        </button>
        <button class="nav-item" onclick="showPage('chat')">
            <i class="fas fa-comments"></i> <span>FAQ</span>
        </button>
    </div>

    <!-- HOME -->
    <div id="home" class="page-section active">
        <div class="container">
            <div class="header-content">
                <div>
                    <h1 class="lang-fa-only">Ø³Ø¬Ø§Ø¯ Ø¬Ø¹ÙØ±ÛŒ</h1><h1 class="lang-en-only">Sajjad Jafari</h1>
                    <div class="tagline">
                        <span class="lang-fa-only">Ø®Ø§Ù„Ù‚ Ø­Ø³Ø§Ø¨Ø¯Ø§Ø± Ù‡ÙˆØ´Ù…Ù†Ø¯ LUFAI</span>
                        <span class="lang-en-only">Creator of LUFAI AI Accountant</span>
                    </div>
                    <div style="color:var(--gold); margin: 10px 0; font-size: 0.9rem;">
                        <i class="fas fa-map-marker-alt"></i> 
                        <span class="lang-fa-only">ØªÙ‡Ø±Ø§Ù† | Ù…ØªÙˆÙ„Ø¯ Û±Û³Û·Û¸</span>
                        <span class="lang-en-only">Tehran | Born 1999</span>
                    </div>
                    <div class="cta-group">
                        <a href="tel:09127905219" class="cta-btn"><i class="fas fa-phone"></i> 09127905219</a>
                        <a href="https://t.me/xosajad" class="cta-btn"><i class="fab fa-telegram"></i> Telegram</a>
                    </div>
                </div>
                <div>
                    <img src="profile.png" onerror="this.src='https://ui-avatars.com/api/?name=SJ&background=0ea5e9&color=fff&size=200'" class="profile-img" alt="Sajjad">
                </div>
            </div>

            <div class="glass-card">
                <h3 class="lang-fa-only"><i class="fas fa-history"></i> Ù…Ø³ÛŒØ± Ù…Ù†</h3>
                <h3 class="lang-en-only"><i class="fas fa-history"></i> My Journey</h3>
                
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <strong style="color:var(--primary)">1398 - 1401</strong>
                    <div class="lang-fa-only">ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ø­Ø³Ø§Ø¨Ø±Ø³ÛŒ Ú©Ù„Ø§Ù† (Ø´Ù‡Ø±Ø¯Ø§Ø±ÛŒ) Ùˆ ØªØ³Ù„Ø· Ø¨Ø± Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø­Ø¬ÛŒÙ….</div>
                    <div class="lang-en-only">Entered macro auditing (Municipality) & big data mastery.</div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <strong style="color:var(--primary)">1401 - 1402</strong>
                    <div class="lang-fa-only">ÙØ¹Ø§Ù„ÛŒØª Ø¯Ø± ØµÙ†Ø§ÛŒØ¹ ØªÙˆÙ„ÛŒØ¯ÛŒ Ùˆ Ø®Ø¯Ù…Ø§ØªÛŒØ› Ù…Ø¯ÛŒØ±ÛŒØª Ø¨Ù‡Ø§ÛŒ ØªÙ…Ø§Ù… Ø´Ø¯Ù‡ Ùˆ Ù…Ø§Ù„ÛŒØ§Øª.</div>
                    <div class="lang-en-only">Manufacturing & Services sectors; Cost & Tax management.</div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <strong style="color:var(--primary)">1402 - Now</strong>
                    <div class="lang-fa-only">ØªÙ„ÙÛŒÙ‚ Ø¨Ø±Ù†Ø§Ù…Ù‡ Ù†ÙˆÛŒØ³ÛŒ Ùˆ Ø­Ø³Ø§Ø¨Ø¯Ø§Ø±ÛŒ = Ø®Ù„Ù‚ LUFAI.</div>
                    <div class="lang-en-only">Coding + Accounting = Creation of LUFAI.</div>
                </div>
            </div>

            <!-- SKILLS SECTION FIXED -->
            <div class="glass-card">
                <h3 class="lang-fa-only"><i class="fas fa-star"></i> ØªØ®ØµØµâ€ŒÙ‡Ø§</h3>
                <h3 class="lang-en-only"><i class="fas fa-star"></i> Skills</h3>
                <div class="skill-grid">
                    <div class="skill-box">
                        <strong><i class="fas fa-laptop-code"></i> <span class="lang-fa-only">Ø³Ø§Ù…Ø§Ù†Ù‡ Ùˆ Ù†Ø±Ù…â€ŒØ§ÙØ²Ø§Ø±</span><span class="lang-en-only">Software & Systems</span></strong>
                        <div class="tag-container">
                            <span class="tag">ØªÙ…Ø§Ù…ÛŒ Ù†Ø±Ù…â€ŒØ§ÙØ²Ø§Ø±Ù‡Ø§ÛŒ Ù…Ø§Ù„ÛŒ</span>
                            <span class="tag">Ø³Ø§Ù…Ø§Ù†Ù‡ Ù…ÙˆØ¯ÛŒØ§Ù†</span>
                            <span class="tag">Ø³Ø§Ù…Ø§Ù†Ù‡ Ø¬Ø§Ù…Ø¹ ØªØ¬Ø§Ø±Øª</span>
                            <span class="tag">Ø³Ø§Ù…Ø§Ù†Ù‡ Ø¬Ø§Ù…Ø¹ Ø§Ù†Ø¨Ø§Ø±Ù‡Ø§</span>
                            <span class="tag">Ù¾Ù„ØªÙØ±Ù…â€ŒÙ‡Ø§ÛŒ Ù‚Ø§Ù†ÙˆÙ†ÛŒ</span>
                        </div>
                    </div>
                    <div class="skill-box">
                        <strong><i class="fas fa-chart-pie"></i> <span class="lang-fa-only">Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø§Ù„ÛŒ</span><span class="lang-en-only">Financial Management</span></strong>
                        <div class="tag-container">
                            <span class="tag">Ø§Ø¸Ù‡Ø§Ø±Ù†Ø§Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ø§Ù„ÛŒØ§ØªÛŒ</span>
                            <span class="tag">Ù„ÛŒØ³Øª Ø¨ÛŒÙ…Ù‡ Ùˆ Ø­Ù‚ÙˆÙ‚</span>
                            <span class="tag">ØµÙˆØ±Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ø§Ù„ÛŒ</span>
                            <span class="tag">Ø¨Ù‡Ø§ÛŒ ØªÙ…Ø§Ù… Ø´Ø¯Ù‡</span>
                            <span class="tag">Ú¯Ø²Ø§Ø±Ø´ Ø³ÙˆØ¯ Ùˆ Ø²ÛŒØ§Ù†</span>
                            <span class="tag">Ø¬Ø±ÛŒØ§Ù† ÙˆØ¬ÙˆÙ‡ Ù†Ù‚Ø¯</span>
                        </div>
                    </div>
                    <div class="skill-box">
                        <strong><i class="fas fa-robot"></i> <span class="lang-fa-only">ØªÙˆØ³Ø¹Ù‡ Ùˆ AI</span><span class="lang-en-only">Dev & AI</span></strong>
                        <div class="tag-container">
                            <span class="tag">Python Automation</span>
                            <span class="tag">Excel & VBA Pro</span>
                            <span class="tag">AI Integration</span>
                            <span class="tag">Data Analysis</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- LUFAI PAGE -->
    <div id="lufai" class="page-section">
        <div class="container">
            <div class="lufai-hero">
                <div class="lufai-title">LUFAI</div>
                <p class="lang-fa-only" style="color:var(--text-muted)">Ø§ÙˆÙ„ÛŒÙ† Ø§ÛŒØ¬Ù†Øª Ù‡ÙˆØ´Ù…Ù†Ø¯ Ø­Ø³Ø§Ø¨Ø¯Ø§Ø±ÛŒ Ø¯Ø± Ø§ÛŒØ±Ø§Ù†</p>
                <p class="lang-en-only" style="color:var(--text-muted)">Iran's First AI Accounting Agent</p>
            </div>

            <div class="feature-card">
                <div class="f-icon"><i class="fas fa-brain"></i></div>
                <div>
                    <h3 class="lang-fa-only">Ù„ÙˆÙØ§ÛŒ (LUFAI) Ú†ÛŒØ³ØªØŸ</h3><h3 class="lang-en-only">What is LUFAI?</h3>
                    <p class="lang-fa-only" style="font-size:0.95rem">
                        Ù„ÙˆÙØ§ÛŒ ÛŒÚ© Ø§ÛŒØ¬Ù†Øª Ù‡ÙˆØ´Ù…Ù†Ø¯ Ø§Ø³Øª Ú©Ù‡ Ù…Ø­Ø¯ÙˆØ¯ Ø¨Ù‡ Ø³ÛŒØ³ØªÙ… Ø­Ø³Ø§Ø¨Ø¯Ø§Ø±ÛŒ Ø®Ø§ØµÛŒ Ù†ÛŒØ³Øª. Ø´Ù…Ø§ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù…Ø§Ù„ÛŒ Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ù‡ ØµÙˆØ±Øª <strong>Ø¹Ú©Ø³ØŒ ÙØ§ÛŒÙ„ PDF ÛŒØ§ Ø§Ú©Ø³Ù„</strong> Ø¨Ø±Ø§ÛŒ Ø§Ùˆ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯. Ù„ÙˆÙØ§ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ø±Ø§ ØªØ­Ù„ÛŒÙ„ Ú©Ø±Ø¯Ù‡ Ùˆ Ø¹Ù…Ù„ÛŒØ§Øª Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± Ø´Ù…Ø§ Ø±Ø§ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ¯Ù‡Ø¯.
                    </p>
                    <p class="lang-en-only" style="font-size:0.95rem">
                        LUFAI is an AI agent independent of accounting software. Send your data as <strong>Image, PDF, or Excel</strong>. LUFAI analyzes the data and performs financial operations autonomously.
                    </p>
                </div>
            </div>

            <div class="feature-card reverse">
                <div class="f-icon"><i class="fas fa-sync"></i></div>
                <div>
                    <h3 class="lang-fa-only">ÙÛŒÚ†Ø±: ØªØ·Ø¨ÛŒÙ‚ Ø­Ø³Ø§Ø¨</h3><h3 class="lang-en-only">Feature: Reconciliation</h3>
                    <p class="lang-fa-only" style="font-size:0.95rem">
                        Ø§ÙˆÙ„ÛŒÙ† ÙÛŒÚ†Ø±ÛŒ Ú©Ù‡ Ø¢Ù…Ø§Ø¯Ù‡ Ø±ÙˆÙ†Ù…Ø§ÛŒÛŒ Ø§Ø³Øª. Ú¯Ø±Ø¯Ø´ Ø­Ø³Ø§Ø¨ Ø¯Ùˆ Ø·Ø±Ù Ø±Ø§ Ø¨Ø¯Ù‡ÛŒØ¯ØŒ Ù„ÙˆÙØ§ÛŒ Ø¯Ø± Ú†Ù†Ø¯ Ø¯Ù‚ÛŒÙ‚Ù‡ Ù…ØºØ§ÛŒØ±Øªâ€ŒÙ‡Ø§ Ø±Ø§ Ù¾ÛŒØ¯Ø§ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ ØªØ§ Ø­Ø³Ø§Ø¨ ØµÙØ± Ø´ÙˆØ¯. 
                        <br><span style="color:var(--gold)">* Ù‚Ø§Ø¨Ù„ÛŒØª ØªØ·Ø¨ÛŒÙ‚ Ù‡Ù…Ø²Ù…Ø§Ù† Ûµ Ø´Ø±Ú©Øª Ø¨Ø±Ø§ÛŒ Ø¬Ø§Ù‡Ø§ÛŒ Ø´Ù„ÙˆØº!</span>
                    </p>
                    <p class="lang-en-only" style="font-size:0.95rem">
                        The first ready feature. Provide ledgers of both parties, and LUFAI finds discrepancies in minutes to zero out the balance.
                        <br><span style="color:var(--gold)">* Can reconcile 5 companies simultaneously!</span>
                    </p>
                </div>
            </div>

            <!-- Stats & Survey -->
            <div class="glass-card" style="text-align:center; padding: 20px;">
                <div class="stats-bar">
                    <span><i class="fas fa-eye"></i> <span id="view-counter">...</span> <span class="lang-fa-only">Ø¨Ø§Ø²Ø¯ÛŒØ¯</span><span class="lang-en-only">Views</span></span>
                    <span>Feedback</span>
                </div>
                
                <h4 class="lang-fa-only">Ù†Ø¸Ø± Ø´Ù…Ø§ Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ù„ÙˆÙØ§ÛŒØŸ</h4>
                <h4 class="lang-en-only">Your thought on LUFAI?</h4>
                
                <div style="display:flex; margin-top:15px;">
                    <div class="vote-btn" id="btn-like" onclick="vote('like')">
                        <i class="fas fa-thumbs-up" style="font-size:1.5rem; color:var(--primary)"></i>
                        <span class="lang-fa-only">Ø¹Ø§Ù„ÛŒÙ‡</span><span class="lang-en-only">Awesome</span>
                        <span class="vote-count" id="count-like">0</span>
                    </div>
                    <div class="vote-btn" id="btn-check" onclick="vote('check')">
                        <i class="fas fa-clipboard-list" style="font-size:1.5rem; color:var(--gold)"></i>
                        <span class="lang-fa-only">Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø¨Ø±Ø±Ø³ÛŒ</span><span class="lang-en-only">Review</span>
                        <span class="vote-count" id="count-check">0</span>
                    </div>
                </div>
                <p id="vote-msg" style="color:var(--primary); font-size:0.8rem; margin-top:10px; display:none;">
                    <span class="lang-fa-only">Ù†Ø¸Ø± Ø´Ù…Ø§ Ø«Ø¨Øª Ø´Ø¯</span><span class="lang-en-only">Vote Saved</span>
                </p>
            </div>
        </div>
    </div>

    <!-- CHAT PAGE -->
    <div id="chat" class="page-section">
        <div class="container" style="padding-top:20px; height:100vh; padding-bottom:140px;">
            <div class="chat-container">
                <div class="chat-header">
                    <img src="profile.png" onerror="this.src='https://ui-avatars.com/api/?name=AI&background=0ea5e9&color=fff'" class="chat-avatar">
                    <div>
                        <strong class="lang-fa-only">Ø¯Ø³ØªÛŒØ§Ø± Ù‡ÙˆØ´Ù…Ù†Ø¯ Ø³Ø¬Ø§Ø¯</strong>
                        <strong class="lang-en-only">Sajjad's AI Assistant</strong>
                        <div style="font-size:0.7rem; color:var(--primary)">Online</div>
                    </div>
                </div>
                
                <div class="chat-box" id="chat-box">
                    <div class="msg bot">
                        <span class="lang-fa-only">Ø³Ù„Ø§Ù…! ğŸ‘‹ Ù…Ù† ØªÙ…Ø§Ù… Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±ÛŒ Ùˆ Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§ÛŒ Ø³Ø¬Ø§Ø¯ Ø±Ùˆ Ø¯Ø§Ø±Ù…. Ù‡Ø± Ø³ÙˆØ§Ù„ÛŒ Ø¯Ø§Ø±ÛŒØ¯ Ø¨Ù¾Ø±Ø³ÛŒØ¯ØŒ Ú©Ø§Ù…Ù„ Ùˆ Ø¯Ù‚ÛŒÙ‚ Ø¬ÙˆØ§Ø¨ Ù…ÛŒØ¯Ù….</span>
                        <span class="lang-en-only">Hello! ğŸ‘‹ I have all of Sajjad's professional info. Ask me anything about his work and projects.</span>
                    </div>
                </div>

                <div class="chat-input-area">
                    <div class="suggestion-chips lang-fa-only">
                        <div class="chip" onclick="ask('Ø³ÙˆØ§Ø¨Ù‚')">Ø³ÙˆØ§Ø¨Ù‚ Ú©Ø§Ø±ÛŒ</div>
                        <div class="chip" onclick="ask('Ø¯Ù‚ÛŒÙ‚')">Ø®Ø¯Ù…Ø§Øª Ø¯Ù‚ÛŒÙ‚</div>
                        <div class="chip" onclick="ask('Ø­Ø³Ø§Ø¨Ø¯Ø§Ø±ÛŒ')">Ø§Ù†Ø¬Ø§Ù… Ø­Ø³Ø§Ø¨Ø¯Ø§Ø±ÛŒ</div>
                        <div class="chip" onclick="ask('Ù„ÙˆÙØ§ÛŒ')">Ù„ÙˆÙØ§ÛŒ Ú†ÛŒÙ‡ØŸ</div>
                        <div class="chip" onclick="ask('Ù…Ø²ÛŒØª')">Ù…Ø²ÛŒØª Ù‡Ù…Ú©Ø§Ø±ÛŒ</div>
                        <div class="chip" onclick="ask('ØªØ·Ø¨ÛŒÙ‚')">ÙÛŒÚ†Ø± ØªØ·Ø¨ÛŒÙ‚</div>
                    </div>
                    <div class="suggestion-chips lang-en-only">
                        <div class="chip" onclick="ask('Experience')">Experience</div>
                        <div class="chip" onclick="ask('Services')">Detailed Services</div>
                        <div class="chip" onclick="ask('Accounting')">Accounting</div>
                        <div class="chip" onclick="ask('LUFAI')">What is LUFAI?</div>
                        <div class="chip" onclick="ask('Reconciliation')">Reconciliation</div>
                    </div>
                    
                    <div class="input-row">
                        <input type="text" id="chat-input" class="chat-input" placeholder="">
                        <button class="send-btn" onclick="sendMsg()"><i class="fas fa-paper-plane"></i></button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, doc, setDoc, updateDoc, increment, onSnapshot } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        const firebaseConfig = JSON.parse(__firebase_config);
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';

        const viewDoc = doc(db, 'artifacts', appId, 'public', 'data', 'global_stats', 'views');
        const voteDoc = doc(db, 'artifacts', appId, 'public', 'data', 'global_stats', 'votes');

        async function startApp() {
            try {
                if (typeof __initial_auth_token !== 'undefined' && __initial_auth_token) {
                    await signInWithCustomToken(auth, __initial_auth_token);
                } else {
                    await signInAnonymously(auth);
                }

                const visited = localStorage.getItem('lufai_visit_v5');
                if(!visited) {
                    localStorage.setItem('lufai_visit_v5', 'true');
                    try { await updateDoc(viewDoc, { count: increment(1) }); } 
                    catch { await setDoc(viewDoc, { count: 1 }); }
                }

                onSnapshot(viewDoc, (snap) => {
                    document.getElementById('view-counter').innerText = snap.exists() ? snap.data().count : 1;
                });

                onSnapshot(voteDoc, (snap) => {
                    if(snap.exists()) {
                        const d = snap.data();
                        document.getElementById('count-like').innerText = d.like || 0;
                        document.getElementById('count-check').innerText = d.check || 0;
                    }
                });

                if(localStorage.getItem('lufai_voted')) lockButtons();

            } catch (e) { console.error(e); document.getElementById('view-counter').innerText = "120+"; }
        }

        window.vote = async function(type) {
            if(localStorage.getItem('lufai_voted')) return;
            localStorage.setItem('lufai_voted', 'true');
            lockButtons();
            document.getElementById('vote-msg').style.display = 'block';
            try { await updateDoc(voteDoc, { [type]: increment(1) }); } 
            catch { await setDoc(voteDoc, { [type]: 1 }, { merge: true }); }
        }

        function lockButtons() {
            document.getElementById('btn-like').classList.add('disabled');
            document.getElementById('btn-check').classList.add('disabled');
        }

        startApp();
    </script>

    <script>
        // Chatbot Knowledge Base (Exact Persian & English)
        const kb = {
            fa: {
                'Ø³ÙˆØ§Ø¨Ù‚': 'Ø³Ø¬Ø§Ø¯ Û· Ø³Ø§Ù„ Ø³Ø§Ø¨Ù‚Ù‡ Ø¯Ø±Ø®Ø´Ø§Ù† Ø¯Ø± Ø´Ø±Ú©Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù ØªÙˆÙ„ÛŒØ¯ÛŒØŒ Ø¨Ø§Ø²Ø±Ú¯Ø§Ù†ÛŒ Ùˆ Ø®Ø¯Ù…Ø§ØªÛŒ Ø¯Ø§Ø±Ø¯.<br><strong>Ø¬Ø²Ø¦ÛŒØ§Øª Ø¯Ù‚ÛŒÙ‚:</strong><br>â€¢ ØªÙ‡ÛŒÙ‡ Ú¯Ø²Ø§Ø±Ø´Ø§Øª Ùˆ Ø§Ø±Ø³Ø§Ù„ Ø§Ø±Ø²Ø´ Ø§ÙØ²ÙˆØ¯Ù‡ Ùˆ Ù…Ø¹Ø§Ù…Ù„Ø§Øª ÙØµÙ„ÛŒ<br>â€¢ ØªØ³Ù„Ø· Ú©Ø§Ù…Ù„ Ø¨Ø± Ø³Ø§Ù…Ø§Ù†Ù‡ Ù…ÙˆØ¯ÛŒØ§Ù†<br>â€¢ ØªÙ‡ÛŒÙ‡ Ùˆ Ø§Ø±Ø³Ø§Ù„ Ø§Ø¸Ù‡Ø§Ø±Ù†Ø§Ù…Ù‡ Ø¹Ù…Ù„Ú©Ø±Ø¯<br>â€¢ ØªÙ‡ÛŒÙ‡ Ú¯Ø²Ø§Ø±Ø´Ø§Øª Ù…Ø§Ù„ÛŒ Ø¬Ø§Ù…Ø¹ (ÙØ±ÙˆØ´ØŒ Ø®Ø±ÛŒØ¯ØŒ Ù‡Ø²ÛŒÙ†Ù‡â€ŒÛŒØ§Ø¨ÛŒØŒ Ø³ÙˆØ¯ Ùˆ Ø²ÛŒØ§Ù†ØŒ Ú¯Ø±Ø¯Ø´ ÙˆØ¬ÙˆÙ‡ Ù†Ù‚Ø¯)<br>â€¢ Ú†Ú© Ú©Ø±Ø¯Ù† Ø±ÙˆÙ†Ø¯Ù‡Ø§ÛŒ Ù…Ø§Ù„ÛŒ Ø´Ø±Ú©Øªâ€ŒÙ‡Ø§ Ø¨Ø± Ø­Ø³Ø¨ Ù†ÛŒØ§Ø²Ø´Ø§Ù†<br>â€¢ ØªØ·Ø¨ÛŒÙ‚ Ù…ÙˆØ§Ø±Ø¯ Ù…Ø§Ù„ÛŒØ§ØªÛŒ Ø³Ø§Ø²Ù…Ø§Ù† Ø¨Ø§ Ø³ÛŒØ³ØªÙ… Ø­Ø³Ø§Ø¨Ø¯Ø§Ø±ÛŒ Ø¯Ø§Ø®Ù„ÛŒ<br>â€¢ Ø§Ø±Ø³Ø§Ù„ Ùˆ ØªÙ‡ÛŒÙ‡ Ù„ÛŒØ³Øª Ø¨ÛŒÙ…Ù‡ Ùˆ Ø­Ù‚ÙˆÙ‚<br>â€¢ Ù…Ø­Ø§Ø³Ø¨Ø§Øª Ø¨Ù‡Ø§ÛŒ ØªÙ…Ø§Ù… Ø´Ø¯Ù‡ Ùˆ Ú¯Ø±Ø¯Ø´ Ú©Ø§Ù„Ø§ Ùˆ Ù…ÙˆØ§Ø¯',
                
                'Ø®Ø¯Ù…Ø§Øª': 'Ú©Ø§Ø± Ø³Ø¬Ø§Ø¯ Ø§ÛŒÙ† Ø§Ø³Øª Ú©Ù‡ Ú©Ù„ Ø±ÙˆÙ†Ø¯Ù‡Ø§ÛŒ Ù…Ø§Ù„ÛŒ Ø´Ø±Ú©Øª Ø´Ù…Ø§ Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ùˆ Ù‡Ø± Ø¬Ø§ Ù†ÛŒØ§Ø² Ø¨Ø§Ø´Ø¯ØŒ Ø¹Ø§Ù…Ù„ Ø§Ù†Ø³Ø§Ù†ÛŒ Ø±Ø§ Ø­Ø°Ù Ú©Ø±Ø¯Ù‡ Ùˆ Ø³ÛŒØ³ØªÙ… Ø§ØªÙˆÙ…Ø§ØªÛŒÚ© Ø±Ø§ Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† Ù…ÛŒâ€ŒÚ©Ù†Ø¯.<br>Ø§Ù„Ø¨ØªÙ‡ Ø§ÛŒÙ† Ù…ÙˆØ±Ø¯ Ù†ÛŒØ§Ø²Ù…Ù†Ø¯ Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ Ø§Ø² Ø³Ù…Øª Ú©Ø§Ø±ÙØ±Ù…Ø§Ø³Øª ØªØ§ Ú©Ù„ ÙØ±Ø¢ÛŒÙ†Ø¯Ù‡Ø§ÛŒ Ù…Ø§Ù„ÛŒ Ø¨Ø±Ø­Ø³Ø¨ Ø³ÛŒØ³ØªÙ… Ø­Ø³Ø§Ø¨Ø¯Ø§Ø±ÛŒ Ø®ÙˆØ¯Ø´Ø§Ù† Ø§ØªÙˆÙ…Ø§ØªÛŒÚ© Ø´ÙˆØ¯.',
                
                'Ù…Ø²ÛŒØª': 'Ø¨Ø²Ø±Ú¯ØªØ±ÛŒÙ† Ù…Ø²ÛŒØª Ø§ÛŒÙ† Ú©Ø§Ø±ØŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¢Ù†Ù„Ø§ÛŒÙ† Ùˆ Ù„Ø­Ø¸Ù‡â€ŒØ§ÛŒ Ù…Ø¯ÛŒØ± Ø¹Ø§Ù…Ù„ Ùˆ Ù…Ø¯ÛŒØ± Ù…Ø§Ù„ÛŒ Ø¨Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø­ÛŒØ§ØªÛŒ Ø§Ø³Øª ØªØ§ Ø¨ØªÙˆØ§Ù†Ù†Ø¯ Ø¨Ù‡ØªØ± ØªØµÙ…ÛŒÙ…â€ŒÚ¯ÛŒØ±ÛŒ Ú©Ù†Ù†Ø¯. Ù‡Ù…Ú†Ù†ÛŒÙ† Ø³Ø±Ø¹Øª Ø¨Ø§Ù„Ø§ÛŒ Ú©Ø§Ø±ÛŒ Ø³Ø¬Ø§Ø¯ Ø¯Ø± Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø§Ø·Ù„Ø§Ø¹Ø§ØªØŒ Ù…Ø²ÛŒØª Ø±Ù‚Ø§Ø¨ØªÛŒ Ø§ØµÙ„ÛŒ Ø§ÙˆØ³Øª.',
                
                'Ø­Ø³Ø§Ø¨Ø¯Ø§Ø±ÛŒ': 'Ø¨Ù„Ù‡ØŒ Ø­ØªÙ…Ø§. Ø³Ø¬Ø§Ø¯ Ù‡Ù… Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø®ÙˆØ¯Ø´ Ø­Ø³Ø§Ø¨â€ŒÙ‡Ø§ÛŒ Ø´Ø±Ú©Øª Ø´Ù…Ø§ Ø±Ø§ Ú†Ú© Ùˆ Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ù†Ø¯ØŒ Ùˆ Ù‡Ù… Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø¨Ø±Ø§ÛŒ Ø´Ù…Ø§ Ø­Ø³Ø§Ø¨Ø¯Ø§Ø± Ù…Ø³Ù„Ø· Ù¾ÛŒØ¯Ø§ Ú©Ù†Ø¯ Ú©Ù‡ Ú©Ø§Ø± Ø´Ù…Ø§ Ø±Ø§ Ø¨Ø§ Ø³Ø±Ø¹Øª Ùˆ Ø¯Ù‚Øª ØªØ­Øª Ù†Ø¸Ø§Ø±Øª Ø³ÛŒØ³ØªÙ…â€ŒÙ‡Ø§ÛŒ Ø§Ùˆ Ø§Ù†Ø¬Ø§Ù… Ø¯Ù‡Ø¯. Ø¯Ø± Ø§ØµÙ„ØŒ Ø³Ø¬Ø§Ø¯ Ø¨Ù‡ Ø´Ù…Ø§ Ø®Ø¯Ù…Ø§Øª Ø¬Ø§Ù…Ø¹ Ù…Ø§Ù„ÛŒ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯.',
                
                'Ù„ÙˆÙØ§ÛŒ': 'Ø¨Ù„Ù‡ØŒ Ø³Ø¬Ø§Ø¯ Ø¬Ø¹ÙØ±ÛŒ Ø¨Ù†ÛŒØ§Ù†â€ŒÚ¯Ø°Ø§Ø± LUFAI Ø§Ø³Øª. Ø§Ùˆ Ø§ÙˆÙ„ÛŒÙ† Ø´Ø®ØµÛŒ Ø§Ø³Øª Ú©Ù‡ Agent Ø­Ø³Ø§Ø¨Ø¯Ø§Ø± Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ Ø±Ø§ Ø¯Ø§Ø®Ù„ Ø§ÛŒØ±Ø§Ù† Ø§Ø¬Ø±Ø§ (Run) Ú©Ø±Ø¯Ù‡ Ø§Ø³Øª. Ù„ÙˆÙØ§ÛŒ ÛŒÚ© Ø¯Ø³ØªÛŒØ§Ø± Ù‡ÙˆØ´Ù…Ù†Ø¯ Ø§Ø³Øª Ú©Ù‡ Ø³ÛŒØ³ØªÙ… Ø­Ø³Ø§Ø¨Ø¯Ø§Ø±ÛŒ Ø´Ù…Ø§ Ø¨Ø±Ø§ÛŒØ´ Ù…Ù‡Ù… Ù†ÛŒØ³ØªØ› Ù‡Ø± Ø¯ÛŒØªØ§ÛŒÛŒ (Ø¹Ú©Ø³ØŒ PDFØŒ Ø§Ú©Ø³Ù„) Ø¨Ù‡ Ø§Ùˆ Ø¨Ø¯Ù‡ÛŒØ¯ØŒ Ú©Ø§Ø±ØªØ§Ù† Ø±Ø§ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ¯Ù‡Ø¯.',
                
                'ØªØ·Ø¨ÛŒÙ‚': 'Ø§ÙˆÙ„ÛŒÙ† ÙÛŒÚ†Ø±ÛŒ Ú©Ù‡ Ø¢Ù…Ø§Ø¯Ù‡ Ø±ÙˆÙ†Ù…Ø§ÛŒÛŒ Ø§Ø³ØªØŒ <strong>ØªØ·Ø¨ÛŒÙ‚ Ø­Ø³Ø§Ø¨</strong> Ø§Ø³Øª. Ø´Ù…Ø§ Ú¯Ø±Ø¯Ø´ ØªÙØµÛŒÙ„ÛŒ Ø®ÙˆØ¯ Ùˆ Ø·Ø±Ù Ø­Ø³Ø§Ø¨ Ù…Ù‚Ø§Ø¨Ù„ Ø±Ø§ Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯. Ø¨Ù‡ Ø¬Ø§ÛŒ Ø³Ø§Ø¹Øªâ€ŒÙ‡Ø§ ÙˆÙ‚Øª Ú¯Ø°Ø§Ø´ØªÙ† Ø¨Ø±Ø§ÛŒ Ú†Ú© Ú©Ø±Ø¯Ù† Ø¯Ø³ØªÛŒ ÙØ§Ú©ØªÙˆØ±Ù‡Ø§ØŒ Ù„ÙˆÙØ§ÛŒ Ø¯Ø± Ú†Ù†Ø¯ Ø¯Ù‚ÛŒÙ‚Ù‡ Ù‡Ù…Ù‡ Ú†ÛŒØ² Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ùˆ Ù…ØºØ§ÛŒØ±Øªâ€ŒÙ‡Ø§ Ø±Ø§ Ø§Ø¹Ù„Ø§Ù… Ù…ÛŒâ€ŒÚ©Ù†Ø¯ ØªØ§ Ù…Ø§Ù†Ø¯Ù‡ Ø­Ø³Ø§Ø¨â€ŒÙ‡Ø§ ØµÙØ± Ø´ÙˆØ¯. Ø§ÛŒÙ† Ø³ÛŒØ³ØªÙ… Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ù‡Ù…Ø²Ù…Ø§Ù† Ûµ Ø´Ø±Ú©Øª Ø±Ø§ Ø¨Ø§ Ù‡Ù… ØªØ·Ø¨ÛŒÙ‚ Ø¯Ù‡Ø¯ Ùˆ Ø¨Ø±Ø§ÛŒ Ø¬Ø§Ù‡Ø§ÛŒ Ø¨Ø²Ø±Ú¯ Ø¨Ø§ Ø±Ú©ÙˆØ±Ø¯Ù‡Ø§ÛŒ Ø¨Ø§Ù„Ø§ Ø¹Ø§Ù„ÛŒ Ø§Ø³Øª.',
                
                'default': 'Ø¨Ø±Ø§ÛŒ Ù¾Ø§Ø³Ø® Ø¨Ù‡ Ø§ÛŒÙ† Ø³ÙˆØ§Ù„ Ø®Ø§Øµ ÛŒØ§ Ø´Ø±ÙˆØ¹ Ù‡Ù…Ú©Ø§Ø±ÛŒØŒ Ù„Ø·ÙØ§Ù‹ Ù…Ø³ØªÙ‚ÛŒÙ…Ø§Ù‹ Ø¨Ø§ Ø´Ù…Ø§Ø±Ù‡ <strong>Û°Û¹Û±Û²Û·Û¹Û°ÛµÛ²Û±Û¹</strong> ØªÙ…Ø§Ø³ Ø¨Ú¯ÛŒØ±ÛŒØ¯.'
            },
            en: {
                'Experience': 'Sajjad has 7 years of brilliant experience in manufacturing, trading, and service companies. Details: VAT, Seasonal Reports, Taxpayer System, Financial Statements, Cost Accounting, and Material Flow.',
                'Services': 'Sajjad audits your financial processes, removes manual human errors, and implements automated systems. This gives managers real-time access to vital data.',
                'Accounting': 'Yes. Sajjad can manage your accounts directly or recruit/supervise an accountant for you using his high-speed systems.',
                'LUFAI': 'Sajjad is the founder of LUFAI, Iran\'s first AI Accountant Agent. It works independently of your software, processing Images, PDFs, or Excel files.',
                'Reconciliation': 'The first ready feature is Auto Reconciliation. Send detailed ledgers of both parties, and LUFAI finds discrepancies in minutes to zero out the balance. It can handle 5 companies simultaneously.',
                'default': 'For this specific query, please call <strong>09127905219</strong> directly.'
            }
        };

        let lang = 'fa';

        function setLang(l) {
            lang = l;
            document.body.classList.toggle('en-mode', l === 'en');
            document.getElementById('btn-fa').classList.toggle('active', l === 'fa');
            document.getElementById('btn-en').classList.toggle('active', l === 'en');
            
            document.querySelectorAll('.lang-fa-only').forEach(el => el.style.display = (l==='fa' ? 'block' : 'none'));
            document.querySelectorAll('.lang-en-only').forEach(el => el.style.display = (l==='en' ? 'block' : 'none'));
            
            // Fix Flex display for chips/timeline
            document.querySelector('.suggestion-chips.lang-fa-only').style.display = (l==='fa' ? 'flex' : 'none');
            document.querySelector('.suggestion-chips.lang-en-only').style.display = (l==='en' ? 'flex' : 'none');
        }

        function showPage(id) {
            document.querySelectorAll('.page-section').forEach(el => el.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            
            const idx = id === 'home' ? 0 : id === 'lufai' ? 1 : 2;
            document.querySelectorAll('.nav-item')[idx].classList.add('active');
            window.scrollTo(0,0);
        }

        function ask(key) {
            const txt = document.getElementById('chat-input').value = key;
            sendMsg();
        }

        function sendMsg() {
            const inp = document.getElementById('chat-input');
            const txt = inp.value.trim();
            if(!txt) return;

            const box = document.getElementById('chat-box');
            box.innerHTML += `<div class="msg user">${txt}</div>`;
            inp.value = '';

            setTimeout(() => {
                const db = lang === 'fa' ? kb.fa : kb.en;
                let ans = db.default;
                // Keywords matching
                const k = txt.toLowerCase();
                if(k.includes('Ø³ÙˆØ§Ø¨Ù‚') || k.includes('experience')) ans = lang==='fa'?kb.fa['Ø³ÙˆØ§Ø¨Ù‚']:kb.en['Experience'];
                else if(k.includes('Ø®Ø¯Ù…Ø§Øª') || k.includes('Ø¯Ù‚ÛŒÙ‚') || k.includes('services')) ans = lang==='fa'?kb.fa['Ø®Ø¯Ù…Ø§Øª']:kb.en['Services'];
                else if(k.includes('Ø­Ø³Ø§Ø¨Ø¯Ø§Ø±ÛŒ') || k.includes('accounting')) ans = lang==='fa'?kb.fa['Ø­Ø³Ø§Ø¨Ø¯Ø§Ø±ÛŒ']:kb.en['Accounting'];
                else if(k.includes('Ù„ÙˆÙØ§ÛŒ') || k.includes('lufai')) ans = lang==='fa'?kb.fa['Ù„ÙˆÙØ§ÛŒ']:kb.en['LUFAI'];
                else if(k.includes('ØªØ·Ø¨ÛŒÙ‚') || k.includes('reconciliation')) ans = lang==='fa'?kb.fa['ØªØ·Ø¨ÛŒÙ‚']:kb.en['Reconciliation'];
                else if(k.includes('Ù…Ø²ÛŒØª')) ans = lang==='fa'?kb.fa['Ù…Ø²ÛŒØª']:kb.en['Services'];

                box.innerHTML += `<div class="msg bot">${ans}</div>`;
                box.scrollTop = box.scrollHeight;
            }, 600);
        }

        // Animation
        const canvas = document.getElementById('canvas-bg');
        const ctx = canvas.getContext('2d');
        let pts = [];
        function init() {
            canvas.width = window.innerWidth; canvas.height = window.innerHeight;
            pts = [];
            for(let i=0; i<40; i++) pts.push({x:Math.random()*canvas.width, y:Math.random()*canvas.height, vx:(Math.random()-.5), vy:(Math.random()-.5)});
        }
        function draw() {
            ctx.clearRect(0,0,canvas.width,canvas.height);
            ctx.fillStyle = '#0ea5e9';
            pts.forEach(p => {
                p.x+=p.vx; p.y+=p.vy;
                if(p.x<0||p.x>canvas.width) p.vx*=-1; if(p.y<0||p.y>canvas.height) p.vy*=-1;
                ctx.beginPath(); ctx.arc(p.x,p.y,2,0,Math.PI*2); ctx.fill();
                pts.forEach(p2 => {
                    let d = Math.hypot(p.x-p2.x, p.y-p2.y);
                    if(d<150) {
                        ctx.strokeStyle = `rgba(14,165,233,${1-d/150})`;
                        ctx.beginPath(); ctx.moveTo(p.x,p.y); ctx.lineTo(p2.x,p2.y); ctx.stroke();
                    }
                });
            });
            requestAnimationFrame(draw);
        }
        window.onresize = init; init(); draw();
    </script>
</body>
</html>
